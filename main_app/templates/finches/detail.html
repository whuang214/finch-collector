{% extends 'base.html' %} {% block content %}
<div class="container mt-4">
  <div class="row">
    <div class="col-md-6">
      <img
        src="{{ finch.image_url }}"
        alt="{{ finch.name }}"
        class="img-fluid"
      />
    </div>
    <div class="col-md-6">
      <h1>{{ finch.name }}</h1>
      <p class="mb-4">{{ finch.description }}</p>

      <a href="{% url 'finches' %}" class="btn btn-primary"
        >Back to Finch List</a
      >
      <a
        href="{% url 'finches_update' finch.id %}"
        class="btn btn-secondary mr-2"
        >Edit</a
      >
      <a href="{% url 'finches_delete' finch.id %}" class="btn btn-danger"
        >Delete</a
      >
    </div>
  </div>
  <div class="row mt-4">
    <div class="col-md-6">
      <h2>Add Feeding</h2>
      <form method="POST">
        {% csrf_token %} {{ form.as_p }}
        <button type="submit" class="btn btn-primary">Add</button>
      </form>
    </div>
    <div class="col-md-6">
      <h2>Feedings</h2>
      <table class="table">
        <thead>
          <tr>
            <th scope="col">Meal</th>
            <th scope="col">Date</th>
          </tr>
        </thead>
        <tbody>
          {% for feeding in finch.feeding_set.all %}
          <tr>
            <td>{{ feeding.get_meal_display }}</td>
            <td>{{ feeding.date }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="2">No feedings yet</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
